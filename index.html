<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Cuestionario de Hardware y Redes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #0f172a;
      --bg-card: #111827;
      --accent: #3b82f6;
      --accent-soft: rgba(59,130,246,0.15);
      --accent-strong: #1d4ed8;
      --text: #f9fafb;
      --muted: #9ca3af;
      --error: #ef4444;
      --success: #22c55e;
      --radius: 18px;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.6);
      --transition-fast: 0.18s ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 50%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .app-container {
      width: 100%;
      max-width: 1024px;
      background: linear-gradient(145deg, rgba(15,23,42,0.9), rgba(15,23,42,0.98));
      border-radius: 24px;
      box-shadow: var(--shadow-soft);
      padding: 20px;
      border: 1px solid rgba(148,163,184,0.2);
      backdrop-filter: blur(16px);
    }

    header {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 18px;
    }

    header h1 {
      font-size: clamp(1.5rem, 2.5vw, 2rem);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .chip {
      font-size: 0.7rem;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      color: var(--muted);
    }

    header p {
      color: var(--muted);
      font-size: 0.9rem;
      max-width: 600px;
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.3fr);
      gap: 16px;
    }

    @media (max-width: 768px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: radial-gradient(circle at top left, rgba(37,99,235,0.18), transparent 55%),
                  linear-gradient(145deg, rgba(15,23,42,0.95), rgba(17,24,39,1));
      border-radius: var(--radius);
      padding: 16px 18px;
      border: 1px solid rgba(55,65,81,0.8);
      box-shadow: 0 12px 30px rgba(15,23,42,0.6);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top right, rgba(56,189,248,0.12), transparent 55%);
      opacity: 0.6;
      pointer-events: none;
    }

    .card > * {
      position: relative;
      z-index: 1;
    }

    h2 {
      font-size: 1.1rem;
      margin-bottom: 8px;
    }

    .subtle {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .form-group {
      margin: 12px 0;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    label {
      font-size: 0.85rem;
      color: var(--muted);
    }

    input[type="text"] {
      background: rgba(15,23,42,0.9);
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      padding: 10px 14px;
      color: var(--text);
      font-size: 0.9rem;
      outline: none;
      transition: border var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
    }

    input[type="text"]:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(37,99,235,0.6);
      transform: translateY(-1px);
    }

    .pre-interactive {
      margin-top: 8px;
      display: grid;
      grid-template-columns: minmax(0,1.1fr) minmax(0,1.1fr);
      gap: 10px;
    }

    @media (max-width: 640px) {
      .pre-interactive {
        grid-template-columns: 1fr;
      }
    }

    .pill-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 4px;
    }

    .pill-toggle {
      font-size: 0.75rem;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.9);
      color: var(--muted);
      cursor: pointer;
      transition: background var(--transition-fast), color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast), border var(--transition-fast);
    }

    .pill-toggle.active {
      background: var(--accent-soft);
      color: var(--accent);
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(37,99,235,0.5);
      transform: translateY(-1px);
    }

    .info-panel {
      font-size: 0.8rem;
      color: var(--muted);
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px dashed rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.7);
      min-height: 60px;
    }

    .flashcards {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    @media (max-width: 480px) {
      .flashcards {
        grid-template-columns: 1fr;
      }
    }

    .flashcard {
      perspective: 900px;
      cursor: pointer;
    }

    .flashcard-inner {
      position: relative;
      width: 100%;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid rgba(148,163,184,0.4);
      background: radial-gradient(circle at top, rgba(15,118,110,0.25), rgba(15,23,42,0.95));
      transform-style: preserve-3d;
      transition: transform 0.5s;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 0.8rem;
    }

    .flashcard-front,
    .flashcard-back {
      position: absolute;
      inset: 0;
      padding: 10px;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .flashcard-back {
      transform: rotateY(180deg);
    }

    .flashcard.flipped .flashcard-inner {
      transform: rotateY(180deg);
    }

    .flashcard-title {
      font-weight: 600;
      font-size: 0.85rem;
      margin-bottom: 4px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      border-radius: 999px;
      border: 1px solid var(--accent-strong);
      background: radial-gradient(circle at top, rgba(59,130,246,0.35), rgba(37,99,235,0.95));
      color: white;
      font-weight: 600;
      font-size: 0.9rem;
      padding: 10px 18px;
      cursor: pointer;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), filter var(--transition-fast), background var(--transition-fast);
      box-shadow: 0 10px 25px rgba(37,99,235,0.6);
      margin-top: 8px;
    }

    .btn span.icon {
      font-size: 1rem;
    }

    .btn:disabled {
      opacity: 0.45;
      cursor: not-allowed;
      box-shadow: none;
      filter: grayscale(0.4);
    }

    .btn:not(:disabled):hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 14px 30px rgba(37,99,235,0.7);
      filter: brightness(1.05);
    }

    .btn-secondary {
      background: transparent;
      border-color: rgba(148,163,184,0.7);
      box-shadow: none;
      color: var(--muted);
      padding-inline: 14px;
      font-weight: 500;
      font-size: 0.8rem;
    }

    .btn-secondary:hover {
      background: rgba(15,23,42,0.9);
      box-shadow: 0 0 0 1px rgba(148,163,184,0.6);
      color: var(--text);
    }

    .quiz-header {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 10px;
    }

    .quiz-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .badge {
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.4);
      font-size: 0.75rem;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(15,23,42,0.9);
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid rgba(55,65,81,0.9);
    }

    .progress-fill {
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--accent), #22c55e);
      transition: width 0.25s ease-out;
    }

    #question-text {
      font-size: 1rem;
      margin-bottom: 10px;
    }

    #options-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 10px;
    }

    .option-item {
      border-radius: 14px;
      border: 1px solid rgba(75,85,99,0.9);
      background: rgba(15,23,42,0.95);
      padding: 8px 10px;
      display: flex;
      align-items: flex-start;
      gap: 8px;
      cursor: pointer;
      transition: border var(--transition-fast), background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
      font-size: 0.9rem;
    }

    .option-item:hover {
      border-color: var(--accent);
      background: rgba(15,23,42,1);
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15,23,42,0.8);
    }

    .option-item input {
      margin-top: 2px;
      accent-color: var(--accent);
      cursor: pointer;
    }

    .option-label {
      line-height: 1.4;
    }

    #next-btn {
      width: 100%;
      margin-top: 4px;
    }

    .hidden {
      display: none !important;
    }

    .results-summary {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 10px 0;
      font-size: 0.9rem;
    }

    .summary-pill {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.95);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .summary-pill .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
    }

    .dot.success {
      background: var(--success);
    }

    .dot.error {
      background: var(--error);
    }

    .summary-score {
      font-size: 1.2rem;
      font-weight: 600;
    }

    .answers-review {
      margin-top: 10px;
      max-height: 260px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .answers-review::-webkit-scrollbar {
      width: 6px;
    }

    .answers-review::-webkit-scrollbar-track {
      background: rgba(15,23,42,0.9);
      border-radius: 999px;
    }

    .answers-review::-webkit-scrollbar-thumb {
      background: rgba(148,163,184,0.6);
      border-radius: 999px;
    }

    .answer-card {
      border-radius: 12px;
      border: 1px solid rgba(75,85,99,0.9);
      background: rgba(15,23,42,0.95);
      padding: 8px 10px;
      margin-bottom: 6px;
      font-size: 0.82rem;
    }

    .answer-card.correct {
      border-color: rgba(34,197,94,0.8);
    }

    .answer-card.incorrect {
      border-color: rgba(239,68,68,0.9);
      background: rgba(24,24,27,0.98);
    }

    .answer-card h4 {
      font-size: 0.82rem;
      margin-bottom: 4px;
      color: #e5e7eb;
    }

    .answer-meta {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 4px;
    }

    .answer-tag {
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 0.7rem;
      border: 1px solid rgba(148,163,184,0.5);
      color: var(--muted);
    }

    footer {
      margin-top: 14px;
      font-size: 0.7rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header>
      <h1>
        Cuestionario de Hardware y Redes
        <span class="chip">Interfaz did√°ctica y responsiva</span>
      </h1>
      <p>
        Completa tu nombre, explora las tarjetas de estudio y, cuando est√©s listo, inicia el cuestionario de 10 preguntas
        seleccionadas aleatoriamente de un banco de √≠tems sobre hardware y redes de computadoras.
      </p>
    </header>

    <main>
      <!-- Panel izquierdo: bienvenida e interacci√≥n previa -->
      <section class="card" id="intro-section">
        <h2>1. Datos del estudiante</h2>
        <p class="subtle">
          Escribe tu nombre y juega un poco con los recursos antes de empezar. As√≠ activas el bot√≥n para iniciar.
        </p>

        <div class="form-group">
          <label for="student-name">Nombre del estudiante</label>
          <input type="text" id="student-name" placeholder="Escribe tu nombre aqu√≠..." autocomplete="off" />
        </div>

        <button id="start-btn" class="btn" disabled>
          <span class="icon">‚ñ∂Ô∏è</span>
          Iniciar cuestionario
        </button>

        <button id="toggle-help" class="btn-secondary" type="button">
          üí° Ver/ocultar sugerencias de estudio
        </button>

        <div id="help-area" class="pre-interactive">
          <div>
            <h3 style="font-size:0.9rem;margin-bottom:4px;">Explora conceptos clave</h3>
            <p class="subtle" style="margin-bottom:6px;">
              Toca un tema para ver una explicaci√≥n r√°pida. Esto te prepara para las preguntas.
            </p>
            <div class="pill-group">
              <button class="pill-toggle active" data-topic="hardware">Hardware</button>
              <button class="pill-toggle" data-topic="software">Software</button>
              <button class="pill-toggle" data-topic="redes">Red de computadoras</button>
              <button class="pill-toggle" data-topic="topologias">Topolog√≠as</button>
            </div>
            <div class="info-panel" id="topic-info">
              El <strong>hardware</strong> son los componentes f√≠sicos del computador: partes que puedes ver y tocar, como teclado, disco duro o tarjeta de red.
            </div>
          </div>

          <div>
            <h3 style="font-size:0.9rem;margin-bottom:4px;">Tarjetas de estudio interactivas</h3>
            <p class="subtle" style="margin-bottom:6px;">
              Toca una tarjeta para voltearla y ver la respuesta.
            </p>
            <div class="flashcards">
              <div class="flashcard" data-front="¬øQu√© es un router?" data-back="Dispositivo que conecta distintas redes y dirige el tr√°fico de datos entre ellas.">
                <div class="flashcard-inner">
                  <div class="flashcard-front">
                    <div>
                      <div class="flashcard-title">Pregunta r√°pida</div>
                      ¬øQu√© es un router?
                    </div>
                  </div>
                  <div class="flashcard-back">
                    <div>
                      <div class="flashcard-title">Respuesta</div>
                      Dispositivo que conecta redes y dirige paquetes.
                    </div>
                  </div>
                </div>
              </div>
              <div class="flashcard" data-front="¬øQu√© es la RAM?" data-back="Memoria de acceso aleatorio que almacena datos y programas en uso de forma temporal.">
                <div class="flashcard-inner">
                  <div class="flashcard-front">
                    <div>
                      <div class="flashcard-title">Pregunta r√°pida</div>
                      ¬øQu√© es la memoria RAM?
                    </div>
                  </div>
                  <div class="flashcard-back">
                    <div>
                      <div class="flashcard-title">Respuesta</div>
                      Memoria principal, r√°pida y temporal del sistema.
                    </div>
                  </div>
                </div>
              </div>
              <div class="flashcard" data-front="¬øQu√© es direcci√≥n IP?" data-back="Identificador num√©rico √∫nico que se asigna a un dispositivo en la red.">
                <div class="flashcard-inner">
                  <div class="flashcard-front">
                    <div>
                      <div class="flashcard-title">Pregunta r√°pida</div>
                      ¬øQu√© es una direcci√≥n IP?
                    </div>
                  </div>
                  <div class="flashcard-back">
                    <div>
                      <div class="flashcard-title">Respuesta</div>
                      Identificador de un dispositivo en la red.
                    </div>
                  </div>
                </div>
              </div>
              <div class="flashcard" data-front="¬øQu√© es un switch?" data-back="Dispositivo que conecta equipos dentro de una misma red LAN y env√≠a datos s√≥lo al puerto destino.">
                <div class="flashcard-inner">
                  <div class="flashcard-front">
                    <div>
                      <div class="flashcard-title">Pregunta r√°pida</div>
                      ¬øPara qu√© sirve un switch?
                    </div>
                  </div>
                  <div class="flashcard-back">
                    <div>
                      <div class="flashcard-title">Respuesta</div>
                      Conectar equipos en una LAN y segmentar tr√°fico.
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Panel derecho: cuestionario y resultados -->
      <section class="card" id="quiz-section">
        <div id="quiz-container">
          <div class="quiz-header">
            <div class="quiz-top-row">
              <div id="student-greeting" class="badge">Estudiante: ‚Äî</div>
              <div id="question-counter" class="badge">Pregunta 0 / 10</div>
            </div>
            <div class="progress-bar">
              <div id="progress-fill" class="progress-fill"></div>
            </div>
          </div>

          <div id="question-area">
            <p id="question-text">Escribe tu nombre y pulsa ‚ÄúIniciar cuestionario‚Äù para comenzar.</p>
            <ul id="options-list"></ul>
          </div>

          <button id="next-btn" class="btn" disabled>
            <span class="icon">‚û°Ô∏è</span>
            Siguiente pregunta
          </button>
        </div>

        <div id="results-section" class="hidden">
          <h2>2. Resultados del cuestionario</h2>
          <p class="subtle" id="results-title"></p>

          <div class="results-summary">
            <div class="summary-pill">
              <span class="dot success"></span>
              <span id="correct-count">0 correctas</span>
            </div>
            <div class="summary-pill">
              <span class="dot error"></span>
              <span id="incorrect-count">0 incorrectas</span>
            </div>
            <div class="summary-pill">
              üßÆ <span id="score-percent" class="summary-score">0%</span>
            </div>
          </div>

          <h3 style="font-size:0.9rem;margin:6px 0;">Revisi√≥n de preguntas</h3>
          <div class="answers-review" id="answers-review"></div>

          <button id="restart-btn" class="btn" type="button">
            <span class="icon">üîÑ</span>
            Volver a intentarlo con nuevas preguntas
          </button>
        </div>
      </section>
    </main>

    <footer>
      <span>üìö Tema: Hardware y redes de computadoras.</span>
      <span>Interfaz dise√±ada para pr√°ctica aut√≥noma del estudiante.</span>
    </footer>
  </div>

  <script>
    // ==== Banco de preguntas (hardware y redes) ====
    const questionBank = [
      {
        question: "¬øQu√© componente se encarga de ejecutar instrucciones y procesar datos en un computador?",
        options: ["Memoria RAM", "CPU o procesador", "Fuente de poder", "Tarjeta de red"],
        answer: 1,
        topic: "Hardware - Procesador"
      },
      {
        question: "¬øCu√°l de los siguientes es un dispositivo de salida?",
        options: ["Teclado", "Mouse", "Monitor", "Micr√≥fono"],
        answer: 2,
        topic: "Hardware - Perif√©ricos"
      },
      {
        question: "¬øQu√© tipo de memoria se borra al apagar el computador?",
        options: ["ROM", "Disco duro", "Unidad SSD", "RAM"],
        answer: 3,
        topic: "Hardware - Memoria"
      },
      {
        question: "¬øCu√°l es la funci√≥n principal de la tarjeta de red (NIC)?",
        options: [
          "Alimentar de energ√≠a al equipo",
          "Conectar el equipo a una red",
          "Mejorar la calidad de la imagen",
          "Almacenar datos permanentemente"
        ],
        answer: 1,
        topic: "Redes - NIC"
      },
      {
        question: "¬øCu√°l de las siguientes opciones describe mejor una red LAN?",
        options: [
          "Red de √°rea amplia que conecta pa√≠ses",
          "Red de √°rea local que cubre un espacio limitado como un edificio",
          "Red inal√°mbrica entre sat√©lites",
          "Red exclusiva de dispositivos m√≥viles"
        ],
        answer: 1,
        topic: "Redes - LAN"
      },
      {
        question: "¬øQu√© dispositivo se utiliza para interconectar varias computadoras dentro de una misma red local y dirigir los paquetes s√≥lo al puerto destino?",
        options: ["Hub", "Switch", "Router", "Repetidor"],
        answer: 1,
        topic: "Redes - Switch"
      },
      {
        question: "¬øQu√© direcci√≥n sirve para identificar de forma √∫nica a un dispositivo en una red TCP/IP?",
        options: [
          "Direcci√≥n MAC",
          "M√°scara de subred",
          "Direcci√≥n IP",
          "DNS"
        ],
        answer: 2,
        topic: "Redes - IP"
      },
      {
        question: "¬øCu√°l de los siguientes medios de transmisi√≥n usa cables de cobre trenzados?",
        options: [
          "Fibra √≥ptica",
          "Cable coaxial",
          "Par trenzado (UTP/STP)",
          "Ondas de radio"
        ],
        answer: 2,
        topic: "Redes - Medios f√≠sicos"
      },
      {
        question: "¬øEn qu√© capa del modelo OSI se encuentran los switches de red t√≠picamente?",
        options: [
          "Capa de aplicaci√≥n",
          "Capa de transporte",
          "Capa de red",
          "Capa de enlace de datos"
        ],
        answer: 3,
        topic: "Redes - Modelo OSI"
      },
      {
        question: "¬øQu√© tipo de dispositivo asigna direcciones IP autom√°ticamente a los equipos de una red?",
        options: [
          "Servidor DNS",
          "Servidor DHCP",
          "Servidor FTP",
          "Servidor de impresi√≥n"
        ],
        answer: 1,
        topic: "Redes - DHCP"
      },
      {
        question: "¬øCu√°l es la funci√≥n principal de la fuente de poder (PSU) en un PC?",
        options: [
          "Almacenar informaci√≥n del sistema",
          "Convertir la energ√≠a el√©ctrica y distribuirla a los componentes",
          "Enfriar el procesador",
          "Conectar el PC a Internet"
        ],
        answer: 1,
        topic: "Hardware - Fuente de poder"
      },
      {
        question: "¬øQu√© componente almacena el sistema operativo y los archivos de manera permanente?",
        options: [
          "Memoria cach√©",
          "Memoria RAM",
          "Disco duro o unidad SSD",
          "Tarjeta gr√°fica"
        ],
        answer: 2,
        topic: "Hardware - Almacenamiento"
      },
      {
        question: "¬øQu√© significa la sigla 'LAN' en redes de computadoras?",
        options: [
          "Local Area Network",
          "Long Area Node",
          "Linked Access Network",
          "Local Access Node"
        ],
        answer: 0,
        topic: "Redes - Conceptos b√°sicos"
      },
      {
        question: "En una topolog√≠a de red en estrella:",
        options: [
          "Todos los nodos se conectan en un anillo cerrado",
          "Todos los nodos est√°n conectados a un nodo central",
          "Cada nodo se conecta s√≥lo con dos vecinos",
          "No existe ning√∫n nodo central"
        ],
        answer: 1,
        topic: "Redes - Topolog√≠as"
      },
      {
        question: "¬øCu√°l de estos elementos es un perif√©rico de entrada?",
        options: [
          "Impresora",
          "Parlantes",
          "Scanner",
          "Proyector"
        ],
        answer: 2,
        topic: "Hardware - Perif√©ricos"
      },
      {
        question: "¬øQu√© protocolo se utiliza principalmente para la navegaci√≥n web?",
        options: [
          "FTP",
          "HTTP/HTTPS",
          "SMTP",
          "SNMP"
        ],
        answer: 1,
        topic: "Redes - Protocolos"
      },
      {
        question: "¬øCu√°l de los siguientes componentes est√° especializado en procesar gr√°ficos y v√≠deos?",
        options: [
          "CPU",
          "GPU o tarjeta gr√°fica",
          "Fuente de poder",
          "Tarjeta de sonido"
        ],
        answer: 1,
        topic: "Hardware - GPU"
      },
      {
        question: "¬øQu√© elemento protege a una red contra accesos no autorizados desde el exterior?",
        options: [
          "Switch",
          "Router",
          "Firewall",
          "Repetidor"
        ],
        answer: 2,
        topic: "Redes - Seguridad"
      },
      {
        question: "¬øQu√© est√°ndar de red inal√°mbrica es muy com√∫n para Wi-Fi dom√©stico?",
        options: [
          "IEEE 802.3",
          "IEEE 802.11",
          "IEEE 802.5",
          "IEEE 1394"
        ],
        answer: 1,
        topic: "Redes - Inal√°mbrico"
      },
      {
        question: "¬øCu√°l de las siguientes afirmaciones describe mejor a la memoria ROM?",
        options: [
          "Memoria de s√≥lo lectura con datos permanentes",
          "Memoria vol√°til y muy r√°pida",
          "Memoria principal donde se ejecutan programas",
          "Memoria que almacena archivos de usuario"
        ],
        answer: 0,
        topic: "Hardware - ROM"
      }
    ];

    // ==== Estado del cuestionario ====
    let selectedQuestions = [];
    let currentIndex = 0;
    let studentName = "";
    let answers = []; // {question, selectedIndex, correctIndex, topic}

    // ==== Referencias al DOM ====
    const nameInput = document.getElementById("student-name");
    const startBtn = document.getElementById("start-btn");
    const quizSection = document.getElementById("quiz-section");
    const studentGreeting = document.getElementById("student-greeting");
    const questionCounter = document.getElementById("question-counter");
    const progressFill = document.getElementById("progress-fill");
    const questionText = document.getElementById("question-text");
    const optionsList = document.getElementById("options-list");
    const nextBtn = document.getElementById("next-btn");
    const resultsSection = document.getElementById("results-section");
    const resultsTitle = document.getElementById("results-title");
    const correctCountEl = document.getElementById("correct-count");
    const incorrectCountEl = document.getElementById("incorrect-count");
    const scorePercentEl = document.getElementById("score-percent");
    const answersReview = document.getElementById("answers-review");
    const restartBtn = document.getElementById("restart-btn");

    const topicButtons = document.querySelectorAll(".pill-toggle");
    const topicInfo = document.getElementById("topic-info");
    const flashcards = document.querySelectorAll(".flashcard");
    const toggleHelpBtn = document.getElementById("toggle-help");
    const helpArea = document.getElementById("help-area");

    // ==== Interactividad previa (antes de iniciar) ====
    const topicTexts = {
      hardware: "El <strong>hardware</strong> son los componentes f√≠sicos del computador: partes que puedes ver y tocar, como teclado, disco duro, memoria RAM o tarjeta de red.",
      software: "El <strong>software</strong> es el conjunto de programas e instrucciones que indican al hardware qu√© hacer. Ejemplos: sistemas operativos, aplicaciones y juegos.",
      redes: "Una <strong>red de computadoras</strong> es un conjunto de dispositivos conectados para compartir informaci√≥n y recursos (archivos, impresoras, Internet, etc.).",
      topologias: "Las <strong>topolog√≠as de red</strong> describen c√≥mo se conectan los dispositivos entre s√≠ (estrella, bus, anillo, malla) y afectan el rendimiento y la tolerancia a fallos."
    };

    topicButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        topicButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const key = btn.dataset.topic;
        topicInfo.innerHTML = topicTexts[key] || "";
      });
    });

    flashcards.forEach(card => {
      card.addEventListener("click", () => {
        card.classList.toggle("flipped");
      });
    });

    toggleHelpBtn.addEventListener("click", () => {
      helpArea.classList.toggle("hidden");
    });

    // Habilitar bot√≥n de inicio cuando haya nombre
    nameInput.addEventListener("input", () => {
      const value = nameInput.value.trim();
      startBtn.disabled = value.length < 2;
    });

    // ==== L√≥gica del cuestionario ====

    function shuffleArray(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function selectRandomQuestions(count) {
      const shuffled = shuffleArray(questionBank);
      return shuffled.slice(0, count);
    }

    function startQuiz() {
      studentName = nameInput.value.trim();
      if (!studentName) return;

      selectedQuestions = selectRandomQuestions(10);
      currentIndex = 0;
      answers = [];

      studentGreeting.textContent = `Estudiante: ${studentName}`;
      resultsSection.classList.add("hidden");
      document.getElementById("quiz-container").classList.remove("hidden");

      renderQuestion();
    }

    function renderQuestion() {
      const total = selectedQuestions.length;
      const q = selectedQuestions[currentIndex];

      questionCounter.textContent = `Pregunta ${currentIndex + 1} / ${total}`;
      questionText.textContent = q.question;
      optionsList.innerHTML = "";
      nextBtn.disabled = true;

      const progressPercent = ((currentIndex) / total) * 100;
      progressFill.style.width = progressPercent + "%";

      q.options.forEach((opt, index) => {
        const li = document.createElement("li");
        li.className = "option-item";

        const input = document.createElement("input");
        input.type = "radio";
        input.name = "option";
        input.value = index;
        input.id = `opt-${index}`;

        const label = document.createElement("label");
        label.setAttribute("for", `opt-${index}`);
        label.className = "option-label";
        label.textContent = opt;

        li.appendChild(input);
        li.appendChild(label);
        optionsList.appendChild(li);

        li.addEventListener("click", () => {
          input.checked = true;
          nextBtn.disabled = false;
        });

        input.addEventListener("change", () => {
          nextBtn.disabled = false;
        });
      });

      nextBtn.innerHTML = currentIndex === total - 1
        ? '<span class="icon">‚úÖ</span> Finalizar y ver resultados'
        : '<span class="icon">‚û°Ô∏è</span> Siguiente pregunta';
    }

    function handleNext() {
      const selectedOption = document.querySelector('input[name="option"]:checked');
      if (!selectedOption) return;

      const selectedIndex = parseInt(selectedOption.value, 10);
      const q = selectedQuestions[currentIndex];

      answers.push({
        question: q.question,
        selectedIndex,
        correctIndex: q.answer,
        options: q.options,
        topic: q.topic
      });

      currentIndex++;

      if (currentIndex < selectedQuestions.length) {
        renderQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const total = selectedQuestions.length;
      const correct = answers.filter(a => a.selectedIndex === a.correctIndex).length;
      const incorrect = total - correct;
      const percent = Math.round((correct / total) * 100);

      document.getElementById("quiz-container").classList.add("hidden");
      resultsSection.classList.remove("hidden");

      resultsTitle.textContent = `Muy bien, ${studentName}. Aqu√≠ tienes el resumen de tus respuestas.`;
      correctCountEl.textContent = `${correct} correctas`;
      incorrectCountEl.textContent = `${incorrect} incorrectas`;
      scorePercentEl.textContent = `${percent}%`;

      answersReview.innerHTML = "";
      answers.forEach((a, index) => {
        const card = document.createElement("div");
        const isCorrect = a.selectedIndex === a.correctIndex;
        card.className = "answer-card " + (isCorrect ? "correct" : "incorrect");

        const title = document.createElement("h4");
        title.textContent = `Pregunta ${index + 1}: ${a.question}`;
        card.appendChild(title);

        const userAnswer = document.createElement("p");
        userAnswer.innerHTML = `<strong>Tu respuesta:</strong> ${
          a.selectedIndex >= 0 ? a.options[a.selectedIndex] : "No respondida"
        }`;
        card.appendChild(userAnswer);

        if (!isCorrect) {
          const correctAnswer = document.createElement("p");
          correctAnswer.innerHTML = `<strong>Respuesta correcta:</strong> ${a.options[a.correctIndex]}`;
          card.appendChild(correctAnswer);
        }

        const meta = document.createElement("div");
        meta.className = "answer-meta";

        const tag = document.createElement("span");
        tag.className = "answer-tag";
        tag.textContent = a.topic;

        const tag2 = document.createElement("span");
        tag2.className = "answer-tag";
        tag2.textContent = isCorrect ? "‚úÖ Acertada" : "‚ùå Fallida";

        meta.appendChild(tag);
        meta.appendChild(tag2);

        card.appendChild(meta);

        answersReview.appendChild(card);
      });

      progressFill.style.width = "100%";
      questionCounter.textContent = `Completaste las ${total} preguntas`;
    }

    function restartQuiz() {
      nameInput.focus();
      // Mantengo el nombre para que el estudiante no tenga que reescribirlo,
      // pero se puede limpiar si se quiere:
      // nameInput.value = "";
      startQuiz();
    }

    // Eventos
    startBtn.addEventListener("click", startQuiz);
    nextBtn.addEventListener("click", handleNext);
    restartBtn.addEventListener("click", restartQuiz);
  </script>
</body>
</html>
